<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>chol | Documentation</title>
	<meta property="og:title" content="chol | Documentation">

	<meta name="description" content="chol documentation ">
	<meta property="og:description" content="Documentation template">

	<meta name="keywords" content="LordOfTrident, Trident, TR-ED, Trident Editor">
	<meta name="author" content="LordOfTrident">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#000000">
	<meta name="twitter:card" content="summary_large_image">

	<meta property="og:type" content="website">
	<meta property="og:site_name" content="LordOfTrident">
    <meta property="og:url" content="https://lordoftrident.github.io/docs/chol">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="./theme.css">
	<link rel="stylesheet" href="../doc-site/style.css">
</head>

<body>
	<button id="back-to-top" onclick="backToTop()">
		<i class="icon fa fa-chevron-up fa-sm"></i>
	</button>

	<a href="https://github.com/" class="github-corner" target="_blank">
		<svg viewBox="0 0 250 250" aria-hidden="true">
			<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
			<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
			<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor"></path>
		</svg>
	</a>

	<main id="site-main">
		<div class="doc-sidebar">
			<div class="doc-sidebar-fixed">
				<header class="doc-sidebar-header">
					<h1 class="doc-sidebar-title1">chol</h1>
					<p class="doc-sidebar-title2">Table of contents</p>
				</header>
				<nav class="doc-nav">
					<ul class="nav-doc-nest-1">
						<li>
							<a href="#chol">chol</a>
							<ul class="nav-doc-nest-2">
								<li>
									<a href="#chol-introduction">Introduction</a>
								</li>
								<li>
									<a href="#chol-usage">Usage</a>
								</li>
								<li>
									<a href="#chol-global-config-macros">Global config macros</a>
									<ul class="nav-doc-nest-3">
										<li>
											<a href="#chol-CHOL_DEF"><span class="inline-code">CHOL_DEF</span></a>
										</li>
										<li>
											<a href="#chol-CHOL_ASSERT"><span class="inline-code">CHOL_ASSERT</span></a>
										</li>
										<li>
											<a href="#chol-CHOL_ALLOC"><span class="inline-code">CHOL_ALLOC</span></a>
										</li>
										<li>
											<a href="#chol-CHOL_REALLOC"><span class="inline-code">CHOL_REALLOC</span></a>
										</li>
										<li>
											<a href="#chol-CHOL_FREE"><span class="inline-code">CHOL_FREE</span></a>
										</li>
									</ul>
								</li>
								<li>
									<a href="#chol-rules">Code rules</a>
									<ul class="nav-doc-nest-3">
										<li>
											<a href="#chol-rules-structure">Structure</a>
										</li>
										<li>
											<a href="#chol-rules-naming">Naming</a>
										</li>
										<li>
											<a href="#chol-rules-funcs">Functions</a>
										</li>
										<li>
											<a href="#chol-rules-comments">Comments</a>
										</li>
										<li>
											<a href="#chol-rules-preproc">Pre-processor</a>
										</li>
										<li>
											<a href="#chol-rules-formatting">Formatting</a>
										</li>
									</ul>
								</li>
							</ul>
						</li>
						<li>
							<a href="#args-h">args.h</a>
							<ul class="nav-doc-nest-2">
								<li>
									<a href="#args-h-introduction">Introduction</a>
								</li>
								<li>
									<a href="#args-h-functions">Functions</a>
								</li>
								<li>
									<a href="#args-h-types">Types</a>
								</li>
							</ul>
						</li>
					</ul>
				</nav>
			</div>
		</div>

		<div class="doc-page">
			<div class="doc-content">
				<button class="theme" id="dark-theme" onclick="setTheme('dark')">
					<i class="icon fa fa-moon-o fa-sm"></i>
				</button>
				<button class="theme" id="light-theme" onclick="setTheme('light')">
					<i class="icon fa fa-sun-o fa-sm"></i>
				</button>
				<div class="clearfix"></div>

				<div class="container">
					<section class="doc-section">
						<h1 id="chol">chol</h1>
						<p>
							<b>!THIS DOCUMENTATION IS A WORK IN PROGRESS!</b>
						</p>

						<h2 id="chol-introduction">Introduction</h2>
						<p>
							<b>chol</b> is a collection of <a href="https://en.wikipedia.org/wiki/Header-only" target="_blank">header-only</a>
							<a href="https://github.com/nothings/stb" target="_blank">STB-style</a> <a href="https://en.wikipedia.org/wiki/C_(programming_language)" target="_blank">C</a>
							libraries which include useful things like command line argument parsing, filesystem functions etc.
						</p>

						<h2 id="chol-usage">Usage</h2>
						<p>
							Since chol is an STB-style library, all you have to do is define the <span class="inline-code">CHOL_IMPLEMENTATION</span>
							macro and then include the header file(s) that you want to use.
						</p>

						<p>
							You can alternatively include the header files in a .h file and then include the implementations in a .c file. Example:
						</p>

						<div class="code">
							<header class="code-header">
								<p>example.h</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;chol/args.h></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;chol/log.h></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;chol/fs.h></span></span></pre>
						</div>

						<div class="code">
							<header class="code-header">
								<p>example.c</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#define</span> CHOL_IMPLEMENTATION</span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">"example.h"</span></span></pre>
						</div>

						<h2 id="chol-global-config-macros">Global config macros</h2>
						<p>
							chol has global config macros to allow for more flexibility. Some headers also have
							their own config macros. These macros can be defined before including chol libraries to configure chol. For example, you can define
							the <span class="inline-code">CHOL_ASSERT</span> like so:
						</p>

						<div class="code">
							<header class="code-header">
								<p>Example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;stdlib.h></span></span>
<span class="code-line"><span class="tok tok-preproc">#include</span> <span class="tok tok-str">&lt;stdio.h></span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#define</span> CHOL_ASSERT(EXPR) \</span>
<span class="code-line">    <span class="tok tok-keyword">if</span> (!(EXPR)) { \</span>
<span class="code-line">        fprintf(stderr, <span class="tok tok-str">"Assertion failed: <span class="tok tok-escape">%s\n</span>"</span>, #EXPR); \</span>
<span class="code-line">        exit(<span class="tok tok-num">1</span>); \</span>
<span class="code-line">    }</span></pre>
						</div>

						<p>
							And now the entire chol library will use this assert instead of the default standard library one.
						</p>

						<h3 id="chol-CHOL_DEF">Macro <span class="inline-code">CHOL_DEF</span></h3>
						<p>
							Included in front of chol function definitions.
						</p>

						<div class="code">
							<header class="code-header">
								<p>Default definition (in <a href="https://github.com/LordOfTrident/chol/tree/main/internal/def.h" target="_blank">internal/def.h</a>)</p>
							</header>
							<pre class="code-content"><span class="tok tok-preproc">#define</span> CHOL_DEF</pre>
						</div>

						<h3 id="chol-CHOL_ASSERT">Macro <span class="inline-code">CHOL_ASSERT</span></h3>
						<p>
							Used for assert statements in the chol implementations. On default, it includes
							<span class="inline-code">assert.h</span>.
						</p>

						<div class="code">
							<header class="code-header">
								<p>Default definition (in <a href="https://github.com/LordOfTrident/chol/tree/main/internal/assert.h" target="_blank">internal/assert.h</a>)</p>
							</header>
							<pre class="code-content"><span class="tok tok-preproc">#define</span> CHOL_ASSERT(EXPR) assert(EXPR)</pre>
						</div>

						<h3 id="chol-CHOL_ALLOC">Macro <span class="inline-code">CHOL_ALLOC</span></h3>
						<p>
							Used to allocate memory in the chol implementations. On default, it includes
							<span class="inline-code">stdlib.h</span>.
						</p>

						<div class="code">
							<header class="code-header">
								<p>Default definition (in <a href="https://github.com/LordOfTrident/chol/tree/main/internal/alloc.h" target="_blank">internal/alloc.h</a>)</p>
							</header>
							<pre class="code-content"><span class="tok tok-preproc">#define</span> CHOL_ALLOC(SIZE) malloc(SIZE)</pre>
						</div>

						<h3 id="chol-CHOL_REALLOC">Macro <span class="inline-code">CHOL_REALLOC</span></h3>
						<p>
							Used to reallocate memory. On default, it includes
							<span class="inline-code">stdlib.h</span>.
						</p>

						<div class="code">
							<header class="code-header">
								<p>Default definition (in <a href="https://github.com/LordOfTrident/chol/tree/main/internal/alloc.h" target="_blank">internal/alloc.h</a>)</p>
							</header>
							<pre class="code-content"><span class="tok tok-preproc">#define</span> CHOL_REALLOC(PTR, SIZE) realloc(SIZE)</pre>
						</div>

						<h3 id="chol-CHOL_FREE">Macro <span class="inline-code">CHOL_FREE</span></h3>
						<p>
							Used to free memory. On default, it includes
							<span class="inline-code">stdlib.h</span>.
						</p>

						<div class="code">
							<header class="code-header">
								<p>Default definition (in <a href="https://github.com/LordOfTrident/chol/tree/main/internal/alloc.h" target="_blank">internal/alloc.h</a>)</p>
							</header>
							<pre class="code-content"><span class="tok tok-preproc">#define</span> CHOL_FREE(PTR) free(PTR)</pre>
						</div>

						<h2 id="chol-rules">Code rules</h2>
						<ul>
							<li><p>
								Always make sure the code does not give warnings and is valid in C++.
							</p></li>
							<li><p>
								Never use integers for booleans, instead include <span class="inline-code">stdbool.h</span>. See the <a href="#chol-rules-structure">structure example</a> for how to include <span class="inline-code">stdbool.h</span>.
							</p></li>
						</ul>

						<h3 id="chol-rules-structure">Structure</h3>
						<p>
							chol library headers have 2 sections; header section and implementation section. The header
							section has declarations of types, functions and macros that are supposed to be used by the
							users of the library. The implementation section has the implementation (definition) of the
							functions declared in the header section, and all the other stuff thats not supposed to be used
							by the library users.
						</p>

						<p>
							The library also requires some pre-processor guards and stuff. See the example:
						</p>

						<div class="code">
							<header class="code-header">
								<p>Example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#ifndef</span> CHOL_LIBNAME_H_HEADER_GUARD</span>
<span class="code-line"><span class="tok tok-preproc">#define</span> CHOL_LIBNAME_H_HEADER_GUARD</span>
<span class="code-line"><span class="tok tok-preproc">#ifndef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-keyword">extern</span> <span class="tok tok-str">"C"</span> {</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-comment">/* Only include this if the library uses bools */</span></span>
<span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-preproc">#    include</span> <span class="tok tok-str">&lt;stdbool.h></span> <span class="tok tok-comment">/* bool, true, false */</span></span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-comment">/* Header section */</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#ifndef</span> __cplusplus</span>
<span class="code-line">}</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#ifdef</span> CHOL_IMPLEMENTATION</span>
<span class="code-line"><span class="tok tok-preproc">#ifndef</span> CHOL_LIBNAME_H_IMPLEMENTATION_GUARD</span>
<span class="code-line"><span class="tok tok-preproc">#define</span> CHOL_LIBNAME_H_IMPLEMENTATION_GUARD</span>
<span class="code-line"><span class="tok tok-preproc">#ifndef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-keyword">extern</span> <span class="tok tok-str">"C"</span> {</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-comment">/* Implementation section */</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="tok tok-preproc">#ifndef</span> __cplusplus</span>
<span class="code-line">}</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span></pre>
						</div>

						<p>
							Replace <span class="inline-code">LIBNAME</span> in the macros with the name of the library
							in upper case. Notice that almost none of the preprocessor is indented, that is because this preprocessor
							is everywhere anyways, so it would just bring the indentation up everywhere and that would be annoying.
						</p>

						<h3 id="chol-rules-naming">Naming</h3>
						<ul>
							<li><p>
								chol uses <a href="https://en.wikipedia.org/wiki/Snake_case" target="_blank">snake_case</a> for all variable, function, type, macro and file names.
							</p></li>
							<li><p>
								Types have a <span class="inline-code">_t</span> suffix.
							</p></li>
							<li><p>
								Macros are <b>always</b> upper case.
							</p></li>
							<li><p>
								Variables, functions and types are prefixed with <span class="inline-code">chol_</span> while macros are prefixed with <span class="inline-code">CHOL_</span>.
							</p></li>
							<li><p>
								Implementation macros, functions etc. that are not supposed to be used by the library users have one more underscore added to the prefix, e.g. <span class="inline-code">chol__my_func</span>.
							</p></li>
						</ul>

						<h3 id="chol-rules-funcs">Functions</h3>
						<p>
							All functions must be defined with <span class="inline-code">CHOL_DEF</span> at the start, unless they are
							implementation-only functions that are not supposed to be used by the library users. In that case, the function must
							be defined as static. These functions are also only defined in the implementation section of the library header file.
						</p>

						<div class="code">
							<header class="code-header">
								<p>Example in implementation section</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-keyword">static void</span> chol__my_implementation_func(<span class="tok tok-keyword">void</span>) {</span>
<span class="code-line">    printf(<span class="tok tok-str">"Hello, world!<span class="tok tok-escape">\n</span>"</span>);</span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line">CHOL_DEF <span class="tok tok-keyword">void</span> chol_my_func(<span class="tok tok-keyword">void</span>) {</span>
<span class="code-line">    chol__my_implementation_func();</span>
<span class="code-line">}</span></pre>
						</div>

						<p>
							If there is a structure and a function that returns a new instance of it,
							the function must be prefixed with the name of the structure type, excluding
							the <span class="inline-code">_t</span> suffix, like so:
						</p>

						<div class="code">
							<header class="code-header">
								<p>Example in header section</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-keyword">typedef struct</span> {</span>
<span class="code-line">    <span class="tok tok-keyword">int</span> x, y;</span>
<span class="code-line">} vec2_t;</span>
<span class="code-line"></span>
<span class="code-line">CHOL_DEF vec2_t chol_vec2_new(<span class="tok tok-keyword">int</span> x, <span class="tok tok-keyword">int</span> y);</span></pre>
						</div>

						<p>
							The same applies if there is a function that in an object oriented language would be a method of the class
							(so takes a pointer to the structure and works with it, for example with the <span class="inline-code">vec2_t</span> structure it could be
							<span class="inline-code">float chol_vec2_mag(vec2_t *vec2)</span> for the magnitude of the vector).
						</p>

						<h3 id="chol-rules-comments">Comments</h3>
						<p>
							The implementation code should be explained in comments, but only in parts that are not obvious. Always use C-style
							comments (<span class="inline-code">/* */</span>), not C++ ones (<span class="inline-code">//</span>)
						</p>

						<h3 id="chol-rules-preproc">Pre-processor</h3>
						<p>
							Pre-processor indentation should go after the hash:
						</p>

						<div class="code">
							<header class="code-header">
								<p>Example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-preproc">#ifdef</span> __cplusplus</span>
<span class="code-line"><span class="tok tok-preproc">#    define</span> CPP</span>
<span class="code-line"><span class="tok tok-preproc">#endif</span></span></pre>
						</div>

						<h3 id="chol-rules-formatting">Formatting</h3>
						<ul>
							<li><p>
								Always use tab indentation with the width of 4 spaces.
							</p></li>
							<li><p>
								Do not put <span class="inline-code">{</span> on a new line.
							</p></li>
							<li><p>
								Lines are limited to 100 characters max (indentation counts as 4 characters).
							</p></li>
							<li><p>
								If a line exceeds this limit and its caused by a long function/type name, consider making the name shorter, but not too short.
								If that is not possible, wrap the line.</a>

							</p></li>
						</ul>

						<div class="code">
							<header class="code-header">
								<p>Line wrapping example</p>
							</header>
							<pre class="code-content"><span class="code-line"><span class="tok tok-comment">/* Pretend that these wrapped lines exceed the 100 chars limit */</span></span>
<span class="code-line">CHOL_DEF <span class="tok tok-keyword">int</span> chol_func(<span class="tok tok-keyword">int</span> a, <span class="tok tok-keyword">long long</span> b, </span>
<span class="code-line">                       <span class="tok tok-keyword">long long</span> d) {</span>
<span class="code-line">    <span class="tok tok-keyword">long long</span> ret = (<span class="tok tok-keyword">long long</span>)a *</span>
<span class="code-line">                    ((<span class="tok tok-keyword">long long</span>)b + d);</span>
<span class="code-line">    <span class="tok tok-keyword">return</span> ret;</span>
<span class="code-line">}</span>
</pre>
						</div>

					</section>
					<section class="doc-section">
						<h1 id="args-h">args.h</h1>
						<h2 id="args-h-introduction">Introduction</h2>
						<p>
							<b>args.h</b> is a library for parsing the command line arguments and flags.
						</p>
					</section>
				</div>
			</div>

			<footer id="site-footer">
				<p>Made with <span class="heart"><3</span> by LordOfTrident</p>
			</footer>
		</div>
	</main>

	<script src="../doc-site/script.js"></script>
</body>
</html>
